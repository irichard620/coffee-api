swagger: "2.0"
info:
  version: "0.0.1"
  title: coffee-api
# during dev, should point to your local machine
host: localhost:10010
# basePath prefixes all resource paths
basePath: /
#
schemes:
  # tip: remove http to make production-grade
  - http
  - https
# format of bodies a client can send (Content-Type)
consumes:
  - application/json
# format of the responses to the client (Accepts)
produces:
  - application/json
paths:
  /sponsors:
    x-swagger-router-controller: sponsors
    get:
      description: Returns all sponsors
      operationId: getSponsors
      responses:
        "200":
          description: Success
          schema:
            title: List of active sponsors
            type: array
            items:
              $ref: "#/definitions/Sponsor"
        default:
          description: Error
          schema:
            description: Error message
            type: string
    post:
      description: Create new sponsor
      operationId: createSponsor
      parameters:
        - in: body
          name: body
          description: Sponsor object
          required: true
          schema:
            $ref: "#/definitions/Sponsor"
      responses:
        "201":
          description: Success
          schema:
            description: Success message
            type: string
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /sponsors/{sponsorID}:
    x-swagger-router-controller: sponsors
    get:
      description: Returns all info for one sponsor
      operationId: getSponsor
      parameters:
        - in: path
          name: sponsorID
          description: ID of sponsor
          required: true
          type: string
          format: uuid
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/Sponsor"
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /beans:
    x-swagger-router-controller: beans
    post:
      description: Create new bean
      operationId: createBean
      parameters:
        - in: body
          name: body
          description: Bean object
          required: true
          schema:
            $ref: "#/definitions/Bean"
      responses:
        "201":
          description: Success
          schema:
            description: Success message
            type: string
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /recipes:
    x-swagger-router-controller: recipes
    post:
      description: Create new recipe
      operationId: createRecipe
      parameters:
        - in: body
          name: body
          description: Recipe object
          required: true
          schema:
            $ref: "#/definitions/Recipe"
      responses:
        "201":
          description: Success
          schema:
            description: Success message
            type: string
        default:
          description: Error
          schema:
            description: Error message
            type: string
    get:
      description: Returns all default recipes
      operationId: getDefaultRecipes
      responses:
        "200":
          description: Success
          schema:
            title: List of default recipes
            type: array
            items:
              $ref: "#/definitions/Recipe"
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /vessels:
    x-swagger-router-controller: vessels
    post:
      description: Create new vessel
      operationId: createVessel
      parameters:
        - in: body
          name: body
          description: Vessel object
          required: true
          schema:
            $ref: "#/definitions/Vessel"
      responses:
        "201":
          description: Success
          schema:
            description: Success message
            type: string
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /vessels/{vesselName}:
    x-swagger-router-controller: vessels
    get:
      description: Returns info for vessel
      operationId: getVessel
      parameters:
        - in: path
          name: vesselName
          description: name of vessel
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/Vessel"
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /locations:
    x-swagger-router-controller: locations
    post:
      description: Create new location
      operationId: createLocation
      parameters:
        - in: body
          name: body
          description: Location object
          required: true
          schema:
            $ref: "#/definitions/Location"
      responses:
        "201":
          description: Success
          schema:
            description: Success message
            type: string
        default:
          description: Error
          schema:
            description: Error message
            type: string
    get:
      description: Returns all locations
      operationId: getAllLocations
      responses:
        "200":
          description: Success
          schema:
            title: List of locations
            type: array
            items:
              $ref: "#/definitions/Location"
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /locations/{sponsorID}:
    x-swagger-router-controller: locations
    get:
      description: Returns locations for sponsor
      operationId: getSponsorLocations
      parameters:
        - in: path
          name: sponsorID
          description: ID of sponsor
          required: true
          type: string
          format: uuid
      responses:
        "200":
          description: Success
          schema:
            title: List of locations
            type: array
            items:
              $ref: "#/definitions/Location"
        default:
          description: Error
          schema:
            description: Error message
            type: string
  /swagger:
    x-swagger-pipe: swagger_raw

definitions:
  Sponsor:
    required:
      - company
      - location
      - description
      - status
    properties:
      sponsor_id:
        type: string
        format: uuid
      image_link:
        type: string
      company:
        type: string
      location:
        type: string
      has_address:
        type: boolean
      street_address:
        type: string
      latitude:
        type: number
      longitude:
        type: number
      visit_description:
        type: string
      description:
        type: string
      theme_color:
        type: string
      text_color:
        type: string
      beans:
        type: array
        items:
          $ref: "#/definitions/Bean"
      recipes:
        type: array
        items:
          $ref: "#/definitions/Recipe"
      priority:
        type: number
      status:
        type: string
        enum: ["ACTIVE", "INACTIVE"]
  Bean:
    required:
      - sponsor_id
      - title
      - description
      - status
    properties:
      bean_id:
        type: string
        format: uuid
      sponsor_id:
        type: string
        format: uuid
      title:
        type: string
      description:
        type: string
      bean_link:
        type: string
      status:
        type: string
        enum: ["ACTIVE", "INACTIVE"]
  Recipe:
    required:
      - brewing_vessel
      - filter_type
      - orientation
      - recipe_name
      - total_coffee
      - grind_size
      - total_water
      - water_temp
      - steps
      - status
    properties:
      recipe_id:
        type: string
        format: uuid
      sponsor_id:
        type: string
        format: uuid
      brewing_vessel:
        type: string
      filter_type:
        type: string
      orientation:
        type: string
      recipe_name:
        type: string
      recipe_description:
        type: string
      total_coffee:
        type: string
      grind_size:
        type: string
      total_water:
        type: string
      water_temp:
        type: string
      steps:
        type: array
        items:
          $ref: "#/definitions/Step"
      status:
        type: string
        enum: ["ACTIVE", "INACTIVE"]
      favorited:
        type: boolean
      default:
        type: boolean
  Step:
    required:
      - title
    properties:
      title:
        type: string
      notes:
        type: string
      properties:
        type: object
  Vessel:
    required:
      - vessel_name
      - vessel_link
      - vessel_description
    properties:
      vessel_id:
        type: string
        format: uuid
      vessel_name:
        type: string
      vessel_link:
        type: string
      vessel_description:
        type: string
  Location:
    required:
      - location_name
      - location_description
      - latitude
      - longitude
      - sponsor_id
    properties:
      location_id:
        type: string
        format: uuid
      sponsor_id:
        type: string
        format: uuid
      location_name:
        type: string
      location_description:
        type: string
      latitude:
        type: number
      longitude:
        type: number

